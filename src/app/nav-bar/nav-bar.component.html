<nav class="navbar shadow navbar-expand-lg">
  <div class="container">
    <a
      class="navbar-brand"
      [routerLink]="['/home-page']"
      (click)="isCollapsed = false"
      >Orona Services</a
    >
    <button
      class="navbar-toggler"
      type="button"
      (click)="isCollapsed = !isCollapsed"
      [attr.aria-expanded]="!isCollapsed"
      aria-controls="collapseNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      class="collapse navbar-collapse d-lg-flex justify-content-lg-between"
      id="collapseNav"
      [collapse]="!isCollapsed"
      [isAnimated]="true"
    >
      <div class="navbar-nav">
        <a
          class="nav-link"
          routerLink="/home-page"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          >Home</a
        >
        <div
          *ngIf="isUserAuthenticated && isUserAdmin"
          class="btn-group"
          dropdown
        >
          <a
            dropdownToggle
            type="button"
            class="nav-link dropdown-toggle"
            aria-controls="dropdown-basic" 
          >
            Admin <span class="caret"></span>
          </a>
          <ul
            id="dropdown-basic"
            *dropdownMenu
            class="dropdown-menu"
            role="menu"
            aria-labelledby="button-basic"
          >
            <li role="menuitem">
              <a class="dropdown-item" routerLink="/cms/estimate/list"
                >Estimates</a
              >
            </li>
            <li role="menuitem">
              <a class="dropdown-item" routerLink="/cms/product/list"
                >Products</a
              >
            </li>
            <li role="menuitem">
              <a class="dropdown-item" routerLink="/cms/order/list">Orders</a>
            </li>
          </ul>
        </div>
        <a
          class="nav-link"
          routerLink="/shop/product/list"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          >Shop</a
        >
        <a
          class="nav-link"
          routerLink="/shop/cart"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          ><span class="material-symbols-outlined"> shopping_cart </span></a
        >
        <a
          id="free"
          class="nav-link"
          routerLink="/estimate"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          >Free estimate</a
        >
      </div>
      <div *ngIf="username !== '' && isCollapsed === false">
        <p id="hello" class="navbar-nav">Hello, {{ username }}!</p>
      </div>
      <div *ngIf="!isUserAuthenticated" class="navbar-nav">
        <a
          class="nav-link"
          routerLink="/authentication/login"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          >Login</a
        >
        <a
          class="nav-link"
          routerLink="/authentication/register"
          routerLinkActive="active"
          (click)="isCollapsed = false"
          >Register</a
        >
      </div>
      <div *ngIf="isUserAuthenticated" class="navbar-nav">
        <a
          class="nav-link"
          routerLink
          (click)="logout()"
          (click)="isCollapsed = false"
          >Logout</a
        >
      </div>
    </div>
  </div>
</nav>
